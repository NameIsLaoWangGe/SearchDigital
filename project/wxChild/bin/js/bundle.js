var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */
var bigItem_1 = require("./view/bigItem");
/*
* 游戏初始化配置;
*/
var GameConfig = /** @class */ (function () {
    function GameConfig() {
    }
    GameConfig.init = function () {
        var reg = Laya.ClassUtils.regClass;
        reg("view/bigItem.ts", bigItem_1.default);
    };
    GameConfig.width = 640;
    GameConfig.height = 1136;
    GameConfig.scaleMode = "fixedwidth";
    GameConfig.screenMode = "none";
    GameConfig.alignV = "top";
    GameConfig.alignH = "left";
    GameConfig.startScene = "test/Big.scene";
    GameConfig.sceneRoot = "";
    GameConfig.debug = false;
    GameConfig.stat = false;
    GameConfig.physicsDebug = false;
    GameConfig.exportSceneToJson = true;
    return GameConfig;
}());
exports.default = GameConfig;
GameConfig.init();
},{"./view/bigItem":5}],2:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var GameConfig_1 = require("./GameConfig");
var BigRank_1 = require("./view/BigRank");
var Main = /** @class */ (function () {
    function Main() {
        //设置子域
        Laya.isWXOpenDataContext = true;
        Laya.isWXPosMsg = true;
        //根据IDE设置初始化引擎		
        Laya.init(GameConfig_1.default.width, GameConfig_1.default.height, false);
        Laya.stage.scaleMode = GameConfig_1.default.scaleMode;
        Laya.stage.screenMode = GameConfig_1.default.screenMode;
        Laya.stage.alignV = GameConfig_1.default.alignV;
        Laya.stage.alignH = GameConfig_1.default.alignH;
        // 关于透传接口，请参考: https://ldc2.layabox.com/doc/?nav=zh-ts-5-0-7
        if (Laya.Browser.onMiniGame)
            wx.onMessage(function (data) {
                console.log("子域收到消息： " + JSON.stringify(data));
                if (data.action == "init") { //第一次初始化接受数据监听
                    Laya.loader.load("res/atlas/rank.atlas", Laya.Handler.create(this, this.onComplete));
                }
                else if (data.action == "ranking") {
                    BigRank_1.default.instance.visible = true;
                    BigRank_1.default.instance.init();
                }
                else if (data.action == "close") {
                    BigRank_1.default.instance.visible = false;
                }
            }.bind(this));
        else
            Laya.loader.load("res/atlas/rank.atlas", Laya.Handler.create(this, this.onComplete));
    }
    Main.prototype.onComplete = function () {
        //初始化rank排行榜
        var rank = new BigRank_1.default();
        //初始化
        rank.init();
        console.log('进游戏就初始化子域接受数据');
    };
    return Main;
}());
//激活启动类
new Main();
},{"./GameConfig":1,"./view/BigRank":4}],3:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var REG = Laya.ClassUtils.regClass;
var ui;
(function (ui) {
    var test;
    (function (test) {
        var BigUI = /** @class */ (function (_super) {
            __extends(BigUI, _super);
            function BigUI() {
                return _super.call(this) || this;
            }
            BigUI.prototype.createChildren = function () {
                _super.prototype.createChildren.call(this);
                this.createView(BigUI.uiView);
            };
            BigUI.uiView = { "type": "Scene", "props": { "x": 0, "width": 630, "height": 751 }, "compId": 2, "child": [{ "type": "List", "props": { "y": 0, "x": 4, "width": 619, "var": "_list", "vScrollBarSkin": " ", "spaceY": 5, "repeatX": 1, "height": 751, "elasticEnabled": true }, "compId": 3, "child": [{ "type": "bigItem", "props": { "runtime": "view/bigItem.ts", "renderType": "render" }, "compId": 5 }] }], "loadList": [], "loadList3D": [] };
            return BigUI;
        }(Laya.Scene));
        test.BigUI = BigUI;
        REG("ui.test.BigUI", BigUI);
        var BigItemUI = /** @class */ (function (_super) {
            __extends(BigItemUI, _super);
            function BigItemUI() {
                return _super.call(this) || this;
            }
            BigItemUI.prototype.createChildren = function () {
                _super.prototype.createChildren.call(this);
                this.createView(BigItemUI.uiView);
            };
            BigItemUI.uiView = { "type": "View", "props": { "width": 619, "height": 141 }, "compId": 2, "child": [{ "type": "Sprite", "props": { "y": 0, "x": 0, "texture": "rank/排行栏.png" }, "compId": 36 }, { "type": "Sprite", "props": { "y": 77, "x": 171, "width": 93, "texture": "rank/头像框描边.png", "pivotY": 50, "pivotX": 50, "name": "contour", "height": 92 }, "compId": 37 }, { "type": "Image", "props": { "y": 32, "x": 127, "width": 80, "var": "img_head", "skin": "rank/头像.png", "name": "", "height": 80 }, "compId": 3, "child": [{ "type": "Sprite", "props": { "y": 0, "x": -1, "width": 82, "texture": "rank/头像框.png", "renderType": "mask", "height": 82 }, "compId": 26 }] }, { "type": "Label", "props": { "y": 83, "x": 291, "width": 131, "var": "text_name", "valign": "middle", "text": "老王哥", "strokeColor": "#642b1a", "stroke": 1, "pivotY": 19, "pivotX": 66, "overflow": "visible", "name": "", "height": 38, "fontSize": 27, "font": "Microsoft YaHei", "color": "#642b1a", "align": "left" }, "compId": 4 }, { "type": "FontClip", "props": { "y": 72, "x": 493, "width": 47, "var": "text_score", "value": "9", "spaceX": -15, "skin": "rank/0123456789.png", "sheet": "0123456789", "pivotY": 19, "pivotX": 24, "name": "", "height": 37, "align": "center" }, "compId": 17 }, { "type": "Sprite", "props": { "y": 14, "x": 6, "var": "rankNum", "name": "rankNum" }, "compId": 30, "child": [{ "type": "FontClip", "props": { "y": 64, "x": 54, "width": 70, "value": "45", "spaceX": -16, "skin": "rank/名次.png", "sheet": "0123456789", "pivotY": 23, "pivotX": 35, "name": "rankNum_Num", "height": 45, "align": "center" }, "compId": 31 }, { "type": "Image", "props": { "y": 22, "x": 16, "visible": false, "skin": "rank/NO1.png", "name": "rankNum_pic", "alpha": 0 }, "compId": 32 }] }, { "type": "Sprite", "props": { "y": 57.5, "x": 521, "texture": "rank/关.png", "name": "guan" }, "compId": 38 }], "loadList": ["rank/排行栏.png", "rank/头像框描边.png", "rank/头像.png", "rank/头像框.png", "rank/0123456789.png", "rank/名次.png", "rank/NO1.png", "rank/关.png"], "loadList3D": [] };
            return BigItemUI;
        }(Laya.View));
        test.BigItemUI = BigItemUI;
        REG("ui.test.BigItemUI", BigItemUI);
    })(test = ui.test || (ui.test = {}));
})(ui = exports.ui || (exports.ui = {}));
},{}],4:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var layaMaxUI_1 = require("../ui/layaMaxUI");
var BigRank = /** @class */ (function (_super) {
    __extends(BigRank, _super);
    function BigRank() {
        var _this = _super.call(this) || this;
        /**获取好友排行榜时的key */
        //已经使用的_key有test10087，test10086
        _this._key = 'test10088';
        /**list初始化使用的数据 */
        _this.arr = [
            { index: 1, avatarIP: 'rank/头像.png', UserName: "老王哥", RankValue: 1 },
            { index: 2, avatarIP: 'rank/头像.png', UserName: "王哥", RankValue: 2 },
            { index: 3, avatarIP: 'rank/头像.png', UserName: "老王哥", RankValue: 3 },
            { index: 4, avatarIP: 'rank/头像.png', UserName: "狭路相逢", RankValue: 4 },
            { index: 5, avatarIP: 'rank/头像.png', UserName: "我们来做游戏", RankValue: 5 },
            { index: 6, avatarIP: 'rank/头像.png', UserName: "相逢何必曾相识", RankValue: 8 },
            { index: 7, avatarIP: 'rank/头像.png', UserName: "玩我游戏我很开心", RankValue: 10 },
            { index: 12, avatarIP: 'rank/头像.png', UserName: "玩我游戏我很开心", RankValue: 11 },
            { index: 11, avatarIP: 'rank/头像.png', UserName: "玩我游戏我很开心", RankValue: 12 }
        ];
        BigRank.instance = _this;
        return _this;
    }
    /**出场动画*/
    BigRank.prototype.appear = function () {
        console.log('出现动画开始播放！');
        Laya.stage.addChild(this);
        this.alpha = 0;
        Laya.Tween.to(this, { alpha: 1 }, 200, null, Laya.Handler.create(this, function () {
        }, []), 500);
    };
    /**
     * 初始化
     */
    BigRank.prototype.init = function () {
        this.appear();
        //初始化list数据
        this.setlist(this.arr);
        if (Laya.Browser.onMiniGame) {
            //接受来自主域的信息
            wx.onMessage(this.recevieData.bind(this));
            // 直接展示数据
            this.getFriendData();
        }
    };
    /**
     * 获取好友排行
     */
    BigRank.prototype.getFriendData = function () {
        var _$this = this;
        wx.getFriendCloudStorage({
            keyList: [this._key],
            success: function (res) {
                //关于拿到的数据详细情况可以产看微信文档
                //https://developers.weixin.qq.com/minigame/dev/api/UserGameData.html
                var listData;
                var obj;
                var kv;
                var arr = [];
                console.log('-----------------getFriendCloudStorage------------');
                if (res.data) {
                    for (var i = 0; i < res.data.length; i++) {
                        // res结构解析
                        /*
                        let res1: object = {
                            data: [
                                {
                                    obj1: {
                                        avatarIP: obj.avatarUrl,
                                        UserName: obj.nickname,
                                        openID: obj.openid,
                                        KVDataList: [
                                            {
                                                kvData: {
                                                    'key': this._key,
                                                    // data是我们上传的信息
                                                    'value': "'wxgame': {value1: 5000,update_time: Laya.Browser.now(),}}"
                                                }
                                            }
                                        ]
                                    }
                                },
                                { obj2: {} }, { obj3: {} }]
                        }
                        */
                        obj = res.data[i];
                        if (!(obj.KVDataList.length))
                            continue;
                        //拉取数据是，使用了多少个key- KVDataList的数组就有多少
                        //更详细的KVData可以查看微信文档:https://developers.weixin.qq.com/minigame/dev/api/KVData.html
                        //kv ="'wxgame': {value1: 5000,update_time: Laya.Browser.now(),}}"
                        kv = obj.KVDataList[0];
                        if (kv.key != _$this._key)
                            continue;
                        //kv.value ={'wxgame': {value1: 5000,update_time: Laya.Browser.now(),}}}
                        kv = JSON.parse(kv.value);
                        listData = {};
                        listData.avatarIP = obj.avatarUrl;
                        listData.UserName = obj.nickname;
                        listData.openID = obj.openid;
                        listData.RankValue = kv.wxgame.value1; //value1:5000
                        listData.update_time = kv.wxgame.update_time;
                        arr.push(listData);
                    }
                    //根据RankValue排序,字符串{value1: 5000}排序，省了一个步骤
                    arr = arr.sort(function (a, b) {
                        return b.RankValue - a.RankValue;
                    });
                    //增加一个用于查看的index排名
                    for (var i = 0; i < arr.length; i++) {
                        arr[i].index = i + 1;
                    }
                    //设置数组
                    _$this.setlist(arr);
                }
            },
            fail: function (data) {
                console.log('------------------获取托管数据失败--------------------');
                console.log(data);
            }
        });
    };
    /**
     * 接收信息
     * @param message 收到的主域传过来的信息
     */
    BigRank.prototype.recevieData = function (message) {
        var _$this = this;
        var type = message.type;
        switch (type) {
            case 'scores':
                //对比并且上传
                this.correlationData(message.data);
                break;
            default:
                break;
        }
    };
    /**对比上次的数据上传数据*/
    BigRank.prototype.correlationData = function (data) {
        // 上传所需格式
        var kvDataList = [];
        var obj = {};
        obj.wxgame = {};
        obj.wxgame.value1 = data['scores'];
        obj.wxgame.update_time = Laya.Browser.now();
        kvDataList.push({ "key": this._key, "value": JSON.stringify(obj) });
        // 先获取上次的得分
        wx.getUserCloudStorage({
            keyList: [this._key],
            success: function (getres) {
                console.log(getres);
                if (getres.KVDataList.length === 0) {
                    console.log('第一次上传无法获取值直接上传');
                    // 上传
                    wx.setUserCloudStorage({
                        KVDataList: kvDataList,
                        success: function (e) {
                            console.log('----第一次无论得了多少分都上传:' + JSON.stringify(e));
                        },
                        fail: function (e) {
                            console.log('-----fail:' + JSON.stringify(e));
                        },
                        complete: function (e) {
                            console.log('-----complete:' + JSON.stringify(e));
                        }
                    });
                }
                else {
                    console.log(getres);
                    console.log('不是第一次上传');
                    var kv = getres.KVDataList[0];
                    var kvData = JSON.parse(kv.value);
                    var lastValue1 = kvData.wxgame.value1;
                    console.log("上次的得分是:" + lastValue1);
                    console.log("这次的得分是:" + data['scores']);
                    if (Number(data['scores']) < Number(lastValue1)) {
                        console.log("这次的得分小于上的得分所以不上传!");
                        return;
                    }
                    // 上传
                    wx.setUserCloudStorage({
                        KVDataList: kvDataList,
                        success: function (e) {
                            console.log('----新的得分大于以前的所以上传了:' + JSON.stringify(e));
                        },
                        fail: function (e) {
                            console.log('-----fail:' + JSON.stringify(e));
                        },
                        complete: function (e) {
                            console.log('-----complete:' + JSON.stringify(e));
                        }
                    });
                }
            },
            fail: function (data) {
                console.log('------------------获取托管数据失败--------------------');
                console.log(data);
            }
        });
    };
    /**
     * 上报自己的数据
     * @param data 上报数据
     */
    BigRank.prototype.setSelfData = function (data) {
        // 上传所需格式
        var kvDataList = [];
        var obj = {};
        obj.wxgame = {};
        obj.wxgame.value1 = data['scores'];
        obj.wxgame.update_time = Laya.Browser.now();
        kvDataList.push({ "key": this._key, "value": JSON.stringify(obj) });
        // 上传
        wx.setUserCloudStorage({
            KVDataList: kvDataList,
            success: function (e) {
                console.log('----新的得分大于以前的所以上传了:' + JSON.stringify(e));
            },
            fail: function (e) {
                console.log('-----fail:' + JSON.stringify(e));
            },
            complete: function (e) {
                console.log('-----complete:' + JSON.stringify(e));
            }
        });
        // 最终obj和kvDataList的关系
        // 最终obj的结构
        /*
        obj = {
            'wxgame': {
                value1: 5000,
                update_time: Laya.Browser.now(),
            }
        }
        kvDataList = [
            {
                kvData: {
                    "key": this._key,
                    "value": "'wxgame': {value1: {data: {score: 5000},update_time: Laya.Browser.now(),}}"
                }
            },
            {
                kvData: {
                    "key": this._key,
                    "value": "'wxgame': {value1: {data: {score: 5000},update_time: Laya.Browser.now(),}}"
                }
            }
        ]
        */
    };
    /**上传前对比一下当前传入的分数和上次传入的分数对比，如果小于就不上传*/
    BigRank.prototype.sceorComparison = function (data) {
        wx.getUserCloudStorage({
            keyList: [this._key],
            success: function (getres) {
                var kv = getres.KVDataList[0];
                var kvData = JSON.parse(kv.value);
                var value1 = kvData.wxgame.value1;
                console.log("上次的得分是:" + value1);
                var score = data['scores'];
            },
            fail: function (data) {
                console.log('------------------获取托管数据失败--------------------');
                console.log(data);
            }
        });
    };
    /**
     * 设置list arr
     * @param arr 赋值用的arr
     */
    BigRank.prototype.setlist = function (arr) {
        this._list.array = arr;
        this._list.refresh();
    };
    BigRank.instance = null;
    return BigRank;
}(layaMaxUI_1.ui.test.BigUI));
exports.default = BigRank;
},{"../ui/layaMaxUI":3}],5:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var layaMaxUI_1 = require("../ui/layaMaxUI");
var BigItem = /** @class */ (function (_super) {
    __extends(BigItem, _super);
    function BigItem() {
        return _super.call(this) || this;
    }
    Object.defineProperty(BigItem.prototype, "dataSource", {
        set: function (value) {
            if (!value)
                return;
            // 名次
            this.rankNum = this.getChildByName('rankNum');
            var rankNum_Num = this.rankNum.getChildByName('rankNum_Num');
            // let rankNum_pic = this.rankNum.getChildByName('rankNum_pic') as Laya.Image;
            // switch (value.index) {
            //     case 1:
            //         rankNum_Num.value = ' ';
            //         rankNum_pic.skin = 'rank/NO1.png';
            //         break;
            //     case 2:
            //         rankNum_Num.value = ' ';
            //         rankNum_pic.skin = 'rank/NO2.png';
            //         break;
            //     case 3:
            //         rankNum_Num.value = ' ';
            //         rankNum_pic.skin = 'rank/NO3.png';
            //         break;
            //     default:
            //         rankNum_Num.value = value.index;
            //         rankNum_pic.visible = false;
            //         break;
            // }
            rankNum_Num.value = value.index;
            // 头像
            this.img_head.skin = value.avatarIP;
            // 名字格式设置
            this.text_name.text = value.UserName;
            // this.text_name.pivotX = this.text_name.width / 2;
            // this.text_name.pivotY = this.text_name.height / 2;
            // let len1 = value.UserName.length;
            // switch (len1) {
            //     case 5:
            //         this.text_name.fontSize = 27;
            //         this.text_name.y = 53;
            //         break;
            //     case 6:
            //         this.text_name.fontSize = 25;
            //         this.text_name.y = 54;
            //         break;
            //     case 7:
            //         this.text_name.fontSize = 23;
            //         this.text_name.y = 55;
            //         break;
            //     case 8:
            //         this.text_name.fontSize = 21;
            //         this.text_name.y = 56;
            //         break;
            //     default:
            //         this.text_name.fontSize = 29;
            //         this.text_name.y = 51;
            //         break;
            // }
            // 分数格式
            // this.text_score.align = 'center';
            // this.text_score.y = 57;
            this.text_score.value = value.RankValue;
            var guan = this.getChildByName('guan');
            // 两位数以上的时候，“关”往后移动一些
            if (value.RankValue >= 10) {
                guan.x = 550;
            }
            else {
                guan.x = 530;
            }
            // this.text_score.pivotX = this.text_score.width / 2;
            // this.text_score.pivotY = this.text_score.height / 2;
            // let len2 = this.text_score.value.length;
            // switch (len1) {
            //     case 5:
            //         this.text_score.scale(0.93, 0.93);
            //         this.text_score.y = 59;
            //         break;
            //     case 6:
            //         this.text_score.scale(0.86, 0.86);
            //         this.text_score.y = 60;
            //         break;
            //     case 7:
            //         this.text_score.scale(0.79, 0.79);
            //         this.text_score.y = 61;
            //         this.text_score.x += 1
            //         break;
            //     case 8:
            //         this.text_score.scale(0.72, 0.72);
            //         this.text_score.y = 62;
            //         this.text_score.x += 2;
            //         break;
            //     default:
            //         this.text_score.y = 58;
            //         break;
            // }
        },
        enumerable: true,
        configurable: true
    });
    return BigItem;
}(layaMaxUI_1.ui.test.BigItemUI));
exports.default = BigItem;
},{"../ui/layaMaxUI":3}]},{},[2])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkU6L+i9r+S7tuWuieijhS9MQVlBL3Jlc291cmNlcy9hcHAvbm9kZV9tb2R1bGVzL2Jyb3dzZXItcGFjay9fcHJlbHVkZS5qcyIsInNyYy9HYW1lQ29uZmlnLnRzIiwic3JjL01haW4udHMiLCJzcmMvdWkvbGF5YU1heFVJLnRzIiwic3JjL3ZpZXcvQmlnUmFuay50cyIsInNyYy92aWV3L2JpZ0l0ZW0udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDVkEsZ0dBQWdHO0FBQ2hHLDBDQUFvQztBQUNwQzs7RUFFRTtBQUNGO0lBYUk7SUFBYyxDQUFDO0lBQ1IsZUFBSSxHQUFYO1FBQ0ksSUFBSSxHQUFHLEdBQWEsSUFBSSxDQUFDLFVBQVUsQ0FBQyxRQUFRLENBQUM7UUFDN0MsR0FBRyxDQUFDLGlCQUFpQixFQUFDLGlCQUFPLENBQUMsQ0FBQztJQUNuQyxDQUFDO0lBaEJNLGdCQUFLLEdBQVEsR0FBRyxDQUFDO0lBQ2pCLGlCQUFNLEdBQVEsSUFBSSxDQUFDO0lBQ25CLG9CQUFTLEdBQVEsWUFBWSxDQUFDO0lBQzlCLHFCQUFVLEdBQVEsTUFBTSxDQUFDO0lBQ3pCLGlCQUFNLEdBQVEsS0FBSyxDQUFDO0lBQ3BCLGlCQUFNLEdBQVEsTUFBTSxDQUFDO0lBQ3JCLHFCQUFVLEdBQUssZ0JBQWdCLENBQUM7SUFDaEMsb0JBQVMsR0FBUSxFQUFFLENBQUM7SUFDcEIsZ0JBQUssR0FBUyxLQUFLLENBQUM7SUFDcEIsZUFBSSxHQUFTLEtBQUssQ0FBQztJQUNuQix1QkFBWSxHQUFTLEtBQUssQ0FBQztJQUMzQiw0QkFBaUIsR0FBUyxJQUFJLENBQUM7SUFNMUMsaUJBQUM7Q0FsQkQsQUFrQkMsSUFBQTtrQkFsQm9CLFVBQVU7QUFtQi9CLFVBQVUsQ0FBQyxJQUFJLEVBQUUsQ0FBQzs7OztBQ3hCbEIsMkNBQXNDO0FBQ3RDLDBDQUFxQztBQUNyQztJQUNDO1FB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QUMsQ0FBQyxFQUFDLEdBQUcsRUFBQyxDQUFDLEVBQUMsU0FBUyxFQUFDLGNBQWMsRUFBQyxFQUFDLFFBQVEsRUFBQyxFQUFFLEVBQUMsRUFBQyxFQUFDLE1BQU0sRUFBQyxRQUFRLEVBQUMsT0FBTyxFQUFDLEVBQUMsR0FBRyxFQUFDLEVBQUUsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLE9BQU8sRUFBQyxFQUFFLEVBQUMsU0FBUyxFQUFDLGdCQUFnQixFQUFDLFFBQVEsRUFBQyxFQUFFLEVBQUMsUUFBUSxFQUFDLEVBQUUsRUFBQyxNQUFNLEVBQUMsU0FBUyxFQUFDLFFBQVEsRUFBQyxFQUFFLEVBQUMsRUFBQyxRQUFRLEVBQUMsRUFBRSxFQUFDLEVBQUMsRUFBQyxNQUFNLEVBQUMsT0FBTyxFQUFDLE9BQU8sRUFBQyxFQUFDLEdBQUcsRUFBQyxFQUFFLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxPQUFPLEVBQUMsRUFBRSxFQUFDLEtBQUssRUFBQyxVQUFVLEVBQUMsTUFBTSxFQUFDLGFBQWEsRUFBQyxNQUFNLEVBQUMsRUFBRSxFQUFDLFFBQVEsRUFBQyxFQUFFLEVBQUMsRUFBQyxRQUFRLEVBQUMsQ0FBQyxFQUFDLE9BQU8sRUFBQyxDQUFDLEVBQUMsTUFBTSxFQUFDLFFBQVEsRUFBQyxPQUFPLEVBQUMsRUFBQyxHQUFHLEVBQUMsQ0FBQyxFQUFDLEdBQUcsRUFBQyxDQUFDLENBQUMsRUFBQyxPQUFPLEVBQUMsRUFBRSxFQUFDLFNBQVMsRUFBQyxjQUFjLEVBQUMsWUFBWSxFQUFDLE1BQU0sRUFBQyxRQUFRLEVBQUMsRUFBRSxFQUFDLEVBQUMsUUFBUSxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsRUFBQyxFQUFDLE1BQU0sRUFBQyxPQUFPLEVBQUMsT0FBTyxFQUFDLEVBQUMsR0FBRyxFQUFDLEVBQUUsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLE9BQU8sRUFBQyxHQUFHLEVBQUMsS0FBSyxFQUFDLFdBQVcsRUFBQyxRQUFRLEVBQUMsUUFBUSxFQUFDLE1BQU0sRUFBQyxLQUFLLEVBQUMsYUFBYSxFQUFDLFNBQVMsRUFBQyxRQUFRLEVBQUMsQ0FBQyxFQUFDLFFBQVEsRUFBQyxFQUFFLEVBQUMsUUFBUSxFQUFDLEVBQUUsRUFBQyxVQUFVLEVBQUMsU0FBUyxFQUFDLE1BQU0sRUFBQyxFQUFFLEVBQUMsUUFBUSxFQUFDLEVBQUUsRUFBQyxVQUFVLEVBQUMsRUFBRSxFQUFDLE1BQU0sRUFBQyxpQkFBaUIsRUFBQyxPQUFPLEVBQUMsU0FBUyxFQUFDLE9BQU8sRUFBQyxNQUFNLEVBQUMsRUFBQyxRQUFRLEVBQUMsQ0FBQyxFQUFDLEVBQUMsRUFBQyxNQUFNLEVBQUMsVUFBVSxFQUFDLE9BQU8sRUFBQyxFQUFDLEdBQUcsRUFBQyxFQUFFLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxPQUFPLEVBQUMsRUFBRSxFQUFDLEtBQUssRUFBQyxZQUFZLEVBQUMsT0FBTyxFQUFDLEdBQUcsRUFBQyxRQUFRLEVBQUMsQ0FBQyxFQUFFLEVBQUMsTUFBTSxFQUFDLHFCQUFxQixFQUFDLE9BQU8sRUFBQyxZQUFZLEVBQUMsUUFBUSxFQUFDLEVBQUUsRUFBQyxRQUFRLEVBQUMsRUFBRSxFQUFDLE1BQU0sRUFBQyxFQUFFLEVBQUMsUUFBUSxFQUFDLEVBQUUsRUFBQyxPQUFPLEVBQUMsUUFBUSxFQUFDLEVBQUMsUUFBUSxFQUFDLEVBQUUsRUFBQyxFQUFDLEVBQUMsTUFBTSxFQUFDLFFBQVEsRUFBQyxPQUFPLEVBQUMsRUFBQyxHQUFHLEVBQUMsRUFBRSxFQUFDLEdBQUcsRUFBQyxDQUFDLEVBQUMsS0FBSyxFQUFDLFNBQVMsRUFBQyxNQUFNLEVBQUMsU0FBUyxFQUFDLEVBQUMsUUFBUSxFQUFDLEVBQUUsRUFBQyxPQUFPLEVBQUMsQ0FBQyxFQUFDLE1BQU0sRUFBQyxVQUFVLEVBQUMsT0FBTyxFQUFDLEVBQUMsR0FBRyxFQUFDLEVBQUUsRUFBQyxHQUFHLEVBQUMsRUFBRSxFQUFDLE9BQU8sRUFBQyxFQUFFLEVBQUMsT0FBTyxFQUFDLElBQUksRUFBQyxRQUFRLEVBQUMsQ0FBQyxFQUFFLEVBQUMsTUFBTSxF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Q2Ysa0NBQWtDO1lBQ2xDLGlCQUFpQjtZQUNqQixJQUFJO1FBRVIsQ0FBQzs7O09BQUE7SUFDTCxjQUFDO0FBQUQsQ0FwR0EsQUFvR0MsQ0FwR29DLGNBQUUsQ0FBQyxJQUFJLENBQUMsU0FBUyxHQW9HckQiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG4oZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpIiwiLyoqVGhpcyBjbGFzcyBpcyBhdXRvbWF0aWNhbGx5IGdlbmVyYXRlZCBieSBMYXlhQWlySURFLCBwbGVhc2UgZG8gbm90IG1ha2UgYW55IG1vZGlmaWNhdGlvbnMuICovXHJcbmltcG9ydCBiaWdJdGVtIGZyb20gXCIuL3ZpZXcvYmlnSXRlbVwiXHJcbi8qXHJcbiog5ri45oiP5Yid5aeL5YyW6YWN572uO1xyXG4qL1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHYW1lQ29uZmlne1xyXG4gICAgc3RhdGljIHdpZHRoOm51bWJlcj02NDA7XHJcbiAgICBzdGF0aWMgaGVpZ2h0Om51bWJlcj0xMTM2O1xyXG4gICAgc3RhdGljIHNjYWxlTW9kZTpzdHJpbmc9XCJmaXhlZHdpZHRoXCI7XHJcbiAgICBzdGF0aWMgc2NyZWVuTW9kZTpzdHJpbmc9XCJub25lXCI7XHJcbiAgICBzdGF0aWMgYWxpZ25WOnN0cmluZz1cInRvcFwiO1xyXG4gICAgc3RhdGljIGFsaWduSDpzdHJpbmc9XCJsZWZ0XCI7XHJcbiAgICBzdGF0aWMgc3RhcnRTY2VuZTphbnk9XCJ0ZXN0L0JpZy5zY2VuZVwiO1xyXG4gICAgc3RhdGljIHNjZW5lUm9vdDpzdHJpbmc9XCJcIjtcclxuICAgIHN0YXRpYyBkZWJ1Zzpib29sZWFuPWZhbHNlO1xyXG4gICAgc3RhdGljIHN0YXQ6Ym9vbGVhbj1mYWxzZTtcclxuICAgIHN0YXRpYyBwaHlzaWNzRGVidWc6Ym9vbGVhbj1mYWxzZTtcclxuICAgIHN0YXRpYyBleHBvcnRTY2VuZVRvSnNvbjpib29sZWFuPXRydWU7XHJcbiAgICBjb25zdHJ1Y3Rvcigpe31cclxuICAgIHN0YXRpYyBpbml0KCl7XHJcbiAgICAgICAgdmFyIHJlZzogRnVuY3Rpb24gPSBMYXlhLkNsYXNzVXRpbHMucmVnQ2xhc3M7XHJcbiAgICAgICAgcmVnKFwidmlldy9iaWdJdGVtLnRzXCIsYmlnSXRlbSk7XHJcbiAgICB9XHJcbn1cclxuR2FtZUNvbmZpZy5pbml0KCk7IiwiaW1wb3J0IEdhbWVDb25maWcgZnJvbSBcIi4vR2FtZUNvbmZpZ1wiO1xyXG5pbXBvcnQgQmlnUmFuayBmcm9tIFwiLi92aWV3L0JpZ1JhbmtcIjtcclxuY2xhc3MgTWFpbiB7XHJcblx0Y29uc3RydWN0b3IoKSB7XHJcblx0XHQvL+iuvue9ruWtkOWfn1xyXG5cdFx0TGF5YS5pc1dYT3BlbkRhdGFDb250ZXh0ID0gdHJ1ZTtcclxuXHRcdExheWEuaXNXWFBvc01zZyA9IHRydWU7XHJcblx0XHQvL+agueaNrklEReiuvue9ruWIneWni+WMluW8leaTjlx0XHRcclxuXHRcdExheWEuaW5pdChHYW1lQ29uZmlnLndpZHRoLCBHYW1lQ29uZmlnLmhlaWdodCwgZmFsc2UpO1xyXG5cdFx0TGF5YS5zdGFnZS5zY2FsZU1vZGUgPSBHYW1lQ29uZmlnLnNjYWxlTW9kZTtcclxuXHRcdExheWEuc3RhZ2Uuc2NyZWVuTW9kZSA9IEdhbWVDb25maWcuc2NyZWVuTW9kZTtcclxuXHRcdExheWEuc3RhZ2UuYWxpZ25WID0gR2FtZUNvbmZpZy5hbGlnblY7XHJcblx0XHRMYXlhLnN0YWdlLmFsaWduSCA9IEdhbWVDb25maWcuYWxpZ25IO1xyXG5cdFx0Ly8g5YWz5LqO6YCP5Lyg5o6l5Y+j77yM6K+35Y+C6ICDOiBodHRwczovL2xkYzIubGF5YWJveC5jb20vZG9jLz9uYXY9emgtdHMtNS0wLTdcclxuXHRcdGlmIChMYXlhLkJyb3dzZXIub25NaW5pR2FtZSlcclxuXHRcdFx0d3gub25NZXNzYWdlKGZ1bmN0aW9uIChkYXRhKSB7XHJcblx0XHRcdFx0Y29uc29sZS5sb2coXCLlrZDln5/mlLbliLDmtojmga/vvJogXCIgKyBKU09OLnN0cmluZ2lmeShkYXRhKSk7XHJcblx0XHRcdFx0aWYgKGRhdGEuYWN0aW9uID09IFwiaW5pdFwiKSB7Ly/nrKzkuIDmrKHliJ3lp4vljJbmjqXlj5fmlbDmja7nm5HlkKxcclxuXHRcdFx0XHRcdExheWEubG9hZGVyLmxvYWQoXCJyZXMvYXRsYXMvcmFuay5hdGxhc1wiLCBMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsIHRoaXMub25Db21wbGV0ZSkpO1xyXG5cclxuXHRcdFx0XHR9IGVsc2UgaWYgKGRhdGEuYWN0aW9uID09IFwicmFua2luZ1wiKSB7XHJcblx0XHRcdFx0XHRCaWdSYW5rLmluc3RhbmNlLnZpc2libGUgPSB0cnVlO1xyXG5cdFx0XHRcdFx0QmlnUmFuay5pbnN0YW5jZS5pbml0KCk7XHJcblxyXG5cdFx0XHRcdH0gZWxzZSBpZiAoZGF0YS5hY3Rpb24gPT0gXCJjbG9zZVwiKSB7XHJcblx0XHRcdFx0XHRCaWdSYW5rLmluc3RhbmNlLnZpc2libGUgPSBmYWxzZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0uYmluZCh0aGlzKSk7XHJcblx0XHRlbHNlXHJcblx0XHRcdExheWEubG9hZGVyLmxvYWQoXCJyZXMvYXRsYXMvcmFuay5hdGxhc1wiLCBMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsIHRoaXMub25Db21wbGV0ZSkpO1xyXG5cdH1cclxuXHJcblx0b25Db21wbGV0ZSgpOiB2b2lkIHtcclxuXHRcdC8v5Yid5aeL5YyWcmFua+aOkuihjOamnFxyXG5cdFx0dmFyIHJhbmsgPSBuZXcgQmlnUmFuaygpO1xyXG5cdFx0Ly/liJ3lp4vljJZcclxuXHRcdHJhbmsuaW5pdCgpO1xyXG5cdFx0Y29uc29sZS5sb2coJ+i/m+a4uOaIj+WwseWIneWni+WMluWtkOWfn+aOpeWPl+aVsOaNricpO1xyXG5cdH1cclxufVxyXG4vL+a/gOa0u+WQr+WKqOexu1xyXG5uZXcgTWFpbigpO1xyXG4iLCIvKipUaGlzIGNsYXNzIGlzIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGVkIGJ5IExheWFBaXJJREUsIHBsZWFzZSBkbyBub3QgbWFrZSBhbnkgbW9kaWZpY2F0aW9ucy4gKi9cbmltcG9ydCBWaWV3PUxheWEuVmlldztcclxuaW1wb3J0IERpYWxvZz1MYXlhLkRpYWxvZztcclxuaW1wb3J0IFNjZW5lPUxheWEuU2NlbmU7XG52YXIgUkVHOiBGdW5jdGlvbiA9IExheWEuQ2xhc3NVdGlscy5yZWdDbGFzcztcbmV4cG9ydCBtb2R1bGUgdWkudGVzdCB7XHJcbiAgICBleHBvcnQgY2xhc3MgQmlnVUkgZXh0ZW5kcyBMYXlhLlNjZW5lIHtcclxuXHRcdHB1YmxpYyBfbGlzdDpMYXlhLkxpc3Q7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgIHVpVmlldzphbnkgPXtcInR5cGVcIjpcIlNjZW5lXCIsXCJwcm9wc1wiOntcInhcIjowLFwid2lkdGhcIjo2MzAsXCJoZWlnaHRcIjo3NTF9LFwiY29tcElkXCI6MixcImNoaWxkXCI6W3tcInR5cGVcIjpcIkxpc3RcIixcInByb3BzXCI6e1wieVwiOjAsXCJ4XCI6NCxcIndpZHRoXCI6NjE5LFwidmFyXCI6XCJfbGlzdFwiLFwidlNjcm9sbEJhclNraW5cIjpcIiBcIixcInNwYWNlWVwiOjUsXCJyZXBlYXRYXCI6MSxcImhlaWdodFwiOjc1MSxcImVsYXN0aWNFbmFibGVkXCI6dHJ1ZX0sXCJjb21wSWRcIjozLFwiY2hpbGRcIjpbe1widHlwZVwiOlwiYmlnSXRlbVwiLFwicHJvcHNcIjp7XCJydW50aW1lXCI6XCJ2aWV3L2JpZ0l0ZW0udHNcIixcInJlbmRlclR5cGVcIjpcInJlbmRlclwifSxcImNvbXBJZFwiOjV9XX1dLFwibG9hZExpc3RcIjpbXSxcImxvYWRMaXN0M0RcIjpbXX07XHJcbiAgICAgICAgY29uc3RydWN0b3IoKXsgc3VwZXIoKX1cclxuICAgICAgICBjcmVhdGVDaGlsZHJlbigpOnZvaWQge1xyXG4gICAgICAgICAgICBzdXBlci5jcmVhdGVDaGlsZHJlbigpO1xyXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZVZpZXcoQmlnVUkudWlWaWV3KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBSRUcoXCJ1aS50ZXN0LkJpZ1VJXCIsQmlnVUkpO1xyXG4gICAgZXhwb3J0IGNsYXNzIEJpZ0l0ZW1VSSBleHRlbmRzIExheWEuVmlldyB7XHJcblx0XHRwdWJsaWMgaW1nX2hlYWQ6TGF5YS5JbWFnZTtcblx0XHRwdWJsaWMgdGV4dF9uYW1lOkxheWEuTGFiZWw7XG5cdFx0cHVibGljIHRleHRfc2NvcmU6TGF5YS5Gb250Q2xpcDtcblx0XHRwdWJsaWMgcmFua051bTpMYXlhLlNwcml0ZTtcbiAgICAgICAgcHVibGljIHN0YXRpYyAgdWlWaWV3OmFueSA9e1widHlwZVwiOlwiVmlld1wiLFwicHJvcHNcIjp7XCJ3aWR0aFwiOjYxOSxcImhlaWdodFwiOjE0MX0sXCJjb21wSWRcIjoyLFwiY2hpbGRcIjpbe1widHlwZVwiOlwiU3ByaXRlXCIsXCJwcm9wc1wiOntcInlcIjowLFwieFwiOjAsXCJ0ZXh0dXJlXCI6XCJyYW5rL+aOkuihjOagjy5wbmdcIn0sXCJjb21wSWRcIjozNn0se1widHlwZVwiOlwiU3ByaXRlXCIsXCJwcm9wc1wiOntcInlcIjo3NyxcInhcIjoxNzEsXCJ3aWR0aFwiOjkzLFwidGV4dHVyZVwiOlwicmFuay/lpLTlg4/moYbmj4/ovrkucG5nXCIsXCJwaXZvdFlcIjo1MCxcInBpdm90WFwiOjUwLFwibmFtZVwiOlwiY29udG91clwiLFwiaGVpZ2h0XCI6OTJ9LFwiY29tcElkXCI6Mzd9LHtcInR5cGVcIjpcIkltYWdlXCIsXCJwcm9wc1wiOntcInlcIjozMixcInhcIjoxMjcsXCJ3aWR0aFwiOjgwLFwidmFyXCI6XCJpbWdfaGVhZFwiLFwic2tpblwiOlwicmFuay/lpLTlg48ucG5nXCIsXCJuYW1lXCI6XCJcIixcImhlaWdodFwiOjgwfSxcImNvbXBJZFwiOjMsXCJjaGlsZFwiOlt7XCJ0eXBlXCI6XCJTcHJpdGVcIixcInByb3BzXCI6e1wieVwiOjAsXCJ4XCI6LTEsXCJ3aWR0aFwiOjgyLFwidGV4dHVyZVwiOlwicmFuay/lpLTlg4/moYYucG5nXCIsXCJyZW5kZXJUeXBlXCI6XCJtYXNrXCIsXCJoZWlnaHRcIjo4Mn0sXCJjb21wSWRcIjoyNn1dfSx7XCJ0eXBlXCI6XCJMYWJlbFwiLFwicHJvcHNcIjp7XCJ5XCI6ODMsXCJ4XCI6MjkxLFwid2lkdGhcIjoxMzEsXCJ2YXJcIjpcInRleHRfbmFtZVwiLFwidmFsaWduXCI6XCJtaWRkbGVcIixcInRleHRcIjpcIuiAgeeOi+WTpVwiLFwic3Ryb2tlQ29sb3JcIjpcIiM2NDJiMWFcIixcInN0cm9rZVwiOjEsXCJwaXZvdFlcIjoxOSxcInBpdm90WFwiOjY2LFwib3ZlcmZsb3dcIjpcInZpc2libGVcIixcIm5hbWVcIjpcIlwiLFwiaGVpZ2h0XCI6MzgsXCJmb250U2l6ZVwiOjI3LFwiZm9udFwiOlwiTWljcm9zb2Z0IFlhSGVpXCIsXCJjb2xvclwiOlwiIzY0MmIxYVwiLFwiYWxpZ25cIjpcImxlZnRcIn0sXCJjb21wSWRcIjo0fSx7XCJ0eXBlXCI6XCJGb250Q2xpcFwiLFwicHJvcHNcIjp7XCJ5XCI6NzIsXCJ4XCI6NDkzLFwid2lkdGhcIjo0NyxcInZhclwiOlwidGV4dF9zY29yZVwiLFwidmFsdWVcIjpcIjlcIixcInNwYWNlWFwiOi0xNSxcInNraW5cIjpcInJhbmsvMDEyMzQ1Njc4OS5wbmdcIixcInNoZWV0XCI6XCIwMTIzNDU2Nzg5XCIsXCJwaXZvdFlcIjoxOSxcInBpdm90WFwiOjI0LFwibmFtZVwiOlwiXCIsXCJoZWlnaHRcIjozNyxcImFsaWduXCI6XCJjZW50ZXJcIn0sXCJjb21wSWRcIjoxN30se1widHlwZVwiOlwiU3ByaXRlXCIsXCJwcm9wc1wiOntcInlcIjoxNCxcInhcIjo2LFwidmFyXCI6XCJyYW5rTnVtXCIsXCJuYW1lXCI6XCJyYW5rTnVtXCJ9LFwiY29tcElkXCI6MzAsXCJjaGlsZFwiOlt7XCJ0eXBlXCI6XCJGb250Q2xpcFwiLFwicHJvcHNcIjp7XCJ5XCI6NjQsXCJ4XCI6NTQsXCJ3aWR0aFwiOjcwLFwidmFsdWVcIjpcIjQ1XCIsXCJzcGFjZVhcIjotMTYsXCJza2luXCI6XCJyYW5rL+WQjeasoS5wbmdcIixcInNoZWV0XCI6XCIwMTIzNDU2Nzg5XCIsXCJwaXZvdFlcIjoyMyxcInBpdm90WFwiOjM1LFwibmFtZVwiOlwicmFua051bV9OdW1cIixcImhlaWdodFwiOjQ1LFwiYWxpZ25cIjpcImNlbnRlclwifSxcImNvbXBJZFwiOjMxfSx7XCJ0eXBlXCI6XCJJbWFnZVwiLFwicHJvcHNcIjp7XCJ5XCI6MjIsXCJ4XCI6MTYsXCJ2aXNpYmxlXCI6ZmFsc2UsXCJza2luXCI6XCJyYW5rL05PMS5wbmdcIixcIm5hbWVcIjpcInJhbmtOdW1fcGljXCIsXCJhbHBoYVwiOjB9LFwiY29tcElkXCI6MzJ9XX0se1widHlwZVwiOlwiU3ByaXRlXCIsXCJwcm9wc1wiOntcInlcIjo1Ny41LFwieFwiOjUyMSxcInRleHR1cmVcIjpcInJhbmsv5YWzLnBuZ1wiLFwibmFtZVwiOlwiZ3VhblwifSxcImNvbXBJZFwiOjM4fV0sXCJsb2FkTGlzdFwiOltcInJhbmsv5o6S6KGM5qCPLnBuZ1wiLFwicmFuay/lpLTlg4/moYbmj4/ovrkucG5nXCIsXCJyYW5rL+WktOWDjy5wbmdcIixcInJhbmsv5aS05YOP5qGGLnBuZ1wiLFwicmFuay8wMTIzNDU2Nzg5LnBuZ1wiLFwicmFuay/lkI3mrKEucG5nXCIsXCJyYW5rL05PMS5wbmdcIixcInJhbmsv5YWzLnBuZ1wiXSxcImxvYWRMaXN0M0RcIjpbXX07XHJcbiAgICAgICAgY29uc3RydWN0b3IoKXsgc3VwZXIoKX1cclxuICAgICAgICBjcmVhdGVDaGlsZHJlbigpOnZvaWQge1xyXG4gICAgICAgICAgICBzdXBlci5jcmVhdGVDaGlsZHJlbigpO1xyXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZVZpZXcoQmlnSXRlbVVJLnVpVmlldyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgUkVHKFwidWkudGVzdC5CaWdJdGVtVUlcIixCaWdJdGVtVUkpO1xyXG59XHIiLCJpbXBvcnQgeyB1aSB9IGZyb20gXCIuLi91aS9sYXlhTWF4VUlcIlxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQmlnUmFuayBleHRlbmRzIHVpLnRlc3QuQmlnVUkge1xyXG4gICAgcHVibGljIHN0YXRpYyBpbnN0YW5jZTogQmlnUmFuayA9IG51bGw7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICBCaWdSYW5rLmluc3RhbmNlID0gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICAvKirojrflj5blpb3lj4vmjpLooYzmppzml7bnmoRrZXkgKi9cclxuICAgIC8v5bey57uP5L2/55So55qEX2tleeaciXRlc3QxMDA4N++8jHRlc3QxMDA4NlxyXG4gICAgcHVibGljIF9rZXk6IFN0cmluZyA9ICd0ZXN0MTAwODgnO1xyXG4gICAgLyoqbGlzdOWIneWni+WMluS9v+eUqOeahOaVsOaNriAqL1xyXG4gICAgcHJpdmF0ZSBhcnI6IEFycmF5PGFueT4gPSBbXHJcbiAgICAgICAgeyBpbmRleDogMSwgYXZhdGFySVA6ICdyYW5rL+WktOWDjy5wbmcnLCBVc2VyTmFtZTogXCLogIHnjovlk6VcIiwgUmFua1ZhbHVlOiAxIH0sXHJcbiAgICAgICAgeyBpbmRleDogMiwgYXZhdGFySVA6ICdyYW5rL+WktOWDjy5wbmcnLCBVc2VyTmFtZTogXCLnjovlk6VcIiwgUmFua1ZhbHVlOiAyIH0sXHJcbiAgICAgICAgeyBpbmRleDogMywgYXZhdGFySVA6ICdyYW5rL+WktOWDjy5wbmcnLCBVc2VyTmFtZTogXCLogIHnjovlk6VcIiwgUmFua1ZhbHVlOiAzIH0sXHJcbiAgICAgICAgeyBpbmRleDogNCwgYXZhdGFySVA6ICdyYW5rL+WktOWDjy5wbmcnLCBVc2VyTmFtZTogXCLni63ot6/nm7jpgKJcIiwgUmFua1ZhbHVlOiA0IH0sXHJcbiAgICAgICAgeyBpbmRleDogNSwgYXZhdGFySVA6ICdyYW5rL+WktOWDjy5wbmcnLCBVc2VyTmFtZTogXCLmiJHku6zmnaXlgZrmuLjmiI9cIiwgUmFua1ZhbHVlOiA1IH0sXHJcbiAgICAgICAgeyBpbmRleDogNiwgYXZhdGFySVA6ICdyYW5rL+WktOWDjy5wbmcnLCBVc2VyTmFtZTogXCLnm7jpgKLkvZXlv4Xmm77nm7jor4ZcIiwgUmFua1ZhbHVlOiA4IH0sXHJcbiAgICAgICAgeyBpbmRleDogNywgYXZhdGFySVA6ICdyYW5rL+WktOWDjy5wbmcnLCBVc2VyTmFtZTogXCLnjqnmiJHmuLjmiI/miJHlvojlvIDlv4NcIiwgUmFua1ZhbHVlOiAxMCB9LFxyXG4gICAgICAgIHsgaW5kZXg6IDEyLCBhdmF0YXJJUDogJ3Jhbmsv5aS05YOPLnBuZycsIFVzZXJOYW1lOiBcIueOqeaIkea4uOaIj+aIkeW+iOW8gOW/g1wiLCBSYW5rVmFsdWU6IDExIH0sXHJcbiAgICAgICAgeyBpbmRleDogMTEsIGF2YXRhcklQOiAncmFuay/lpLTlg48ucG5nJywgVXNlck5hbWU6IFwi546p5oiR5ri45oiP5oiR5b6I5byA5b+DXCIsIFJhbmtWYWx1ZTogMTIgfVxyXG4gICAgXVxyXG5cclxuXHJcbiAgICAvKirlh7rlnLrliqjnlLsqL1xyXG4gICAgYXBwZWFyKCk6IHZvaWQge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCflh7rnjrDliqjnlLvlvIDlp4vmkq3mlL7vvIEnKVxyXG4gICAgICAgIExheWEuc3RhZ2UuYWRkQ2hpbGQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5hbHBoYSA9IDA7XHJcbiAgICAgICAgTGF5YS5Ud2Vlbi50byh0aGlzLCB7IGFscGhhOiAxIH0sIDIwMCwgbnVsbCwgTGF5YS5IYW5kbGVyLmNyZWF0ZSh0aGlzLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgfSwgW10pLCA1MDApO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5Yid5aeL5YyWXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBpbml0KCkge1xyXG4gICAgICAgIHRoaXMuYXBwZWFyKCk7XHJcbiAgICAgICAgLy/liJ3lp4vljJZsaXN05pWw5o2uXHJcbiAgICAgICAgdGhpcy5zZXRsaXN0KHRoaXMuYXJyKTtcclxuICAgICAgICBpZiAoTGF5YS5Ccm93c2VyLm9uTWluaUdhbWUpIHtcclxuICAgICAgICAgICAgLy/mjqXlj5fmnaXoh6rkuLvln5/nmoTkv6Hmga9cclxuICAgICAgICAgICAgd3gub25NZXNzYWdlKHRoaXMucmVjZXZpZURhdGEuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgICAgIC8vIOebtOaOpeWxleekuuaVsOaNrlxyXG4gICAgICAgICAgICB0aGlzLmdldEZyaWVuZERhdGEoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDojrflj5blpb3lj4vmjpLooYxcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBnZXRGcmllbmREYXRhKCk6IHZvaWQge1xyXG4gICAgICAgIHZhciBfJHRoaXMgPSB0aGlzO1xyXG4gICAgICAgIHd4LmdldEZyaWVuZENsb3VkU3RvcmFnZSh7XHJcbiAgICAgICAgICAgIGtleUxpc3Q6IFt0aGlzLl9rZXldLFxyXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzKTogdm9pZCB7XHJcbiAgICAgICAgICAgICAgICAvL+WFs+S6juaLv+WIsOeahOaVsOaNruivpue7huaDheWGteWPr+S7peS6p+eci+W+ruS/oeaWh+aho1xyXG4gICAgICAgICAgICAgICAgLy9odHRwczovL2RldmVsb3BlcnMud2VpeGluLnFxLmNvbS9taW5pZ2FtZS9kZXYvYXBpL1VzZXJHYW1lRGF0YS5odG1sXHJcbiAgICAgICAgICAgICAgICB2YXIgbGlzdERhdGE7XHJcbiAgICAgICAgICAgICAgICB2YXIgb2JqO1xyXG4gICAgICAgICAgICAgICAgdmFyIGt2O1xyXG4gICAgICAgICAgICAgICAgdmFyIGFyciA9IFtdO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJy0tLS0tLS0tLS0tLS0tLS0tZ2V0RnJpZW5kQ2xvdWRTdG9yYWdlLS0tLS0tLS0tLS0tJyk7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlcy5kYXRhLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJlc+e7k+aehOino+aekFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvKlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmVzMTogb2JqZWN0ID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqMToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXZhdGFySVA6IG9iai5hdmF0YXJVcmwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBVc2VyTmFtZTogb2JqLm5pY2tuYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BlbklEOiBvYmoub3BlbmlkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgS1ZEYXRhTGlzdDogW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga3ZEYXRhOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAna2V5JzogdGhpcy5fa2V5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZGF0YeaYr+aIkeS7rOS4iuS8oOeahOS/oeaBr1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3ZhbHVlJzogXCInd3hnYW1lJzoge3ZhbHVlMTogNTAwMCx1cGRhdGVfdGltZTogTGF5YS5Ccm93c2VyLm5vdygpLH19XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBvYmoyOiB7fSB9LCB7IG9iajM6IHt9IH1dXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgKi9cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iaiA9IHJlcy5kYXRhW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShvYmouS1ZEYXRhTGlzdC5sZW5ndGgpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy/mi4nlj5bmlbDmja7mmK/vvIzkvb/nlKjkuoblpJrlsJHkuKprZXktIEtWRGF0YUxpc3TnmoTmlbDnu4TlsLHmnInlpJrlsJFcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy/mm7Tor6bnu4bnmoRLVkRhdGHlj6/ku6Xmn6XnnIvlvq7kv6HmlofmoaM6aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaWdhbWUvZGV2L2FwaS9LVkRhdGEuaHRtbFxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9rdiA9XCInd3hnYW1lJzoge3ZhbHVlMTogNTAwMCx1cGRhdGVfdGltZTogTGF5YS5Ccm93c2VyLm5vdygpLH19XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAga3YgPSBvYmouS1ZEYXRhTGlzdFswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGt2LmtleSAhPSBfJHRoaXMuX2tleSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8va3YudmFsdWUgPXsnd3hnYW1lJzoge3ZhbHVlMTogNTAwMCx1cGRhdGVfdGltZTogTGF5YS5Ccm93c2VyLm5vdygpLH19fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBrdiA9IEpTT04ucGFyc2Uoa3YudmFsdWUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpc3REYXRhID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpc3REYXRhLmF2YXRhcklQID0gb2JqLmF2YXRhclVybDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGlzdERhdGEuVXNlck5hbWUgPSBvYmoubmlja25hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpc3REYXRhLm9wZW5JRCA9IG9iai5vcGVuaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpc3REYXRhLlJhbmtWYWx1ZSA9IGt2Lnd4Z2FtZS52YWx1ZTE7Ly92YWx1ZTE6NTAwMFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsaXN0RGF0YS51cGRhdGVfdGltZSA9IGt2Lnd4Z2FtZS51cGRhdGVfdGltZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXJyLnB1c2gobGlzdERhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvL+agueaNrlJhbmtWYWx1ZeaOkuW6jyzlrZfnrKbkuLJ7dmFsdWUxOiA1MDAwfeaOkuW6j++8jOecgeS6huS4gOS4quatpemqpFxyXG4gICAgICAgICAgICAgICAgICAgIGFyciA9IGFyci5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBiLlJhbmtWYWx1ZSAtIGEuUmFua1ZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIC8v5aKe5Yqg5LiA5Liq55So5LqO5p+l55yL55qEaW5kZXjmjpLlkI1cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhcnJbaV0uaW5kZXggPSBpICsgMTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLy/orr7nva7mlbDnu4RcclxuICAgICAgICAgICAgICAgICAgICBfJHRoaXMuc2V0bGlzdChhcnIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICwgZmFpbDogZnVuY3Rpb24gKGRhdGEpOiB2b2lkIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCctLS0tLS0tLS0tLS0tLS0tLS3ojrflj5bmiZjnrqHmlbDmja7lpLHotKUtLS0tLS0tLS0tLS0tLS0tLS0tLScpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOaOpeaUtuS/oeaBr1xyXG4gICAgICogQHBhcmFtIG1lc3NhZ2Ug5pS25Yiw55qE5Li75Z+f5Lyg6L+H5p2l55qE5L+h5oGvXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgcmVjZXZpZURhdGEobWVzc2FnZSk6IHZvaWQge1xyXG4gICAgICAgIHZhciBfJHRoaXMgPSB0aGlzO1xyXG4gICAgICAgIHZhciB0eXBlOiBTdHJpbmcgPSBtZXNzYWdlLnR5cGU7XHJcbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ3Njb3Jlcyc6XHJcbiAgICAgICAgICAgICAgICAvL+WvueavlOW5tuS4lOS4iuS8oFxyXG4gICAgICAgICAgICAgICAgdGhpcy5jb3JyZWxhdGlvbkRhdGEobWVzc2FnZS5kYXRhKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKuWvueavlOS4iuasoeeahOaVsOaNruS4iuS8oOaVsOaNriovXHJcbiAgICBjb3JyZWxhdGlvbkRhdGEoZGF0YSk6IHZvaWQge1xyXG4gICAgICAgIC8vIOS4iuS8oOaJgOmcgOagvOW8j1xyXG4gICAgICAgIHZhciBrdkRhdGFMaXN0ID0gW107XHJcbiAgICAgICAgdmFyIG9iajogYW55ID0ge307XHJcbiAgICAgICAgb2JqLnd4Z2FtZSA9IHt9O1xyXG4gICAgICAgIG9iai53eGdhbWUudmFsdWUxID0gZGF0YVsnc2NvcmVzJ107XHJcbiAgICAgICAgb2JqLnd4Z2FtZS51cGRhdGVfdGltZSA9IExheWEuQnJvd3Nlci5ub3coKTtcclxuICAgICAgICBrdkRhdGFMaXN0LnB1c2goeyBcImtleVwiOiB0aGlzLl9rZXksIFwidmFsdWVcIjogSlNPTi5zdHJpbmdpZnkob2JqKSB9KTtcclxuICAgICAgICAvLyDlhYjojrflj5bkuIrmrKHnmoTlvpfliIZcclxuICAgICAgICB3eC5nZXRVc2VyQ2xvdWRTdG9yYWdlKHtcclxuICAgICAgICAgICAga2V5TGlzdDogW3RoaXMuX2tleV0sXHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChnZXRyZXMpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGdldHJlcyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoZ2V0cmVzLktWRGF0YUxpc3QubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+esrOS4gOasoeS4iuS8oOaXoOazleiOt+WPluWAvOebtOaOpeS4iuS8oCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIOS4iuS8oFxyXG4gICAgICAgICAgICAgICAgICAgIHd4LnNldFVzZXJDbG91ZFN0b3JhZ2Uoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBLVkRhdGFMaXN0OiBrdkRhdGFMaXN0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZSk6IHZvaWQge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJy0tLS3nrKzkuIDmrKHml6DorrrlvpfkuoblpJrlsJHliIbpg73kuIrkvKA6JyArIEpTT04uc3RyaW5naWZ5KGUpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmFpbDogZnVuY3Rpb24gKGUpOiB2b2lkIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCctLS0tLWZhaWw6JyArIEpTT04uc3RyaW5naWZ5KGUpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uIChlKTogdm9pZCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnLS0tLS1jb21wbGV0ZTonICsgSlNPTi5zdHJpbmdpZnkoZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGdldHJlcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+S4jeaYr+esrOS4gOasoeS4iuS8oCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBrdiA9IGdldHJlcy5LVkRhdGFMaXN0WzBdO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBrdkRhdGEgPSBKU09OLnBhcnNlKGt2LnZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgbGFzdFZhbHVlMSA9IGt2RGF0YS53eGdhbWUudmFsdWUxO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi5LiK5qyh55qE5b6X5YiG5pivOlwiICsgbGFzdFZhbHVlMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCLov5nmrKHnmoTlvpfliIbmmK86XCIgKyBkYXRhWydzY29yZXMnXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKE51bWJlcihkYXRhWydzY29yZXMnXSkgPCBOdW1iZXIobGFzdFZhbHVlMSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCLov5nmrKHnmoTlvpfliIblsI/kuo7kuIrnmoTlvpfliIbmiYDku6XkuI3kuIrkvKAhXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIOS4iuS8oFxyXG4gICAgICAgICAgICAgICAgICAgIHd4LnNldFVzZXJDbG91ZFN0b3JhZ2Uoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBLVkRhdGFMaXN0OiBrdkRhdGFMaXN0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZSk6IHZvaWQge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJy0tLS3mlrDnmoTlvpfliIblpKfkuo7ku6XliY3nmoTmiYDku6XkuIrkvKDkuoY6JyArIEpTT04uc3RyaW5naWZ5KGUpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmFpbDogZnVuY3Rpb24gKGUpOiB2b2lkIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCctLS0tLWZhaWw6JyArIEpTT04uc3RyaW5naWZ5KGUpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uIChlKTogdm9pZCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnLS0tLS1jb21wbGV0ZTonICsgSlNPTi5zdHJpbmdpZnkoZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLCBmYWlsOiBmdW5jdGlvbiAoZGF0YSk6IHZvaWQge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJy0tLS0tLS0tLS0tLS0tLS0tLeiOt+WPluaJmOeuoeaVsOaNruWksei0pS0tLS0tLS0tLS0tLS0tLS0tLS0tJyk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5LiK5oql6Ieq5bex55qE5pWw5o2uXHJcbiAgICAgKiBAcGFyYW0gZGF0YSDkuIrmiqXmlbDmja5cclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBzZXRTZWxmRGF0YShkYXRhKTogdm9pZCB7XHJcbiAgICAgICAgLy8g5LiK5Lyg5omA6ZyA5qC85byPXHJcbiAgICAgICAgdmFyIGt2RGF0YUxpc3QgPSBbXTtcclxuICAgICAgICB2YXIgb2JqOiBhbnkgPSB7fTtcclxuICAgICAgICBvYmoud3hnYW1lID0ge307XHJcbiAgICAgICAgb2JqLnd4Z2FtZS52YWx1ZTEgPSBkYXRhWydzY29yZXMnXTtcclxuICAgICAgICBvYmoud3hnYW1lLnVwZGF0ZV90aW1lID0gTGF5YS5Ccm93c2VyLm5vdygpO1xyXG4gICAgICAgIGt2RGF0YUxpc3QucHVzaCh7IFwia2V5XCI6IHRoaXMuX2tleSwgXCJ2YWx1ZVwiOiBKU09OLnN0cmluZ2lmeShvYmopIH0pO1xyXG4gICAgICAgIC8vIOS4iuS8oFxyXG4gICAgICAgIHd4LnNldFVzZXJDbG91ZFN0b3JhZ2Uoe1xyXG4gICAgICAgICAgICBLVkRhdGFMaXN0OiBrdkRhdGFMaXN0LFxyXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZSk6IHZvaWQge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJy0tLS3mlrDnmoTlvpfliIblpKfkuo7ku6XliY3nmoTmiYDku6XkuIrkvKDkuoY6JyArIEpTT04uc3RyaW5naWZ5KGUpKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZmFpbDogZnVuY3Rpb24gKGUpOiB2b2lkIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCctLS0tLWZhaWw6JyArIEpTT04uc3RyaW5naWZ5KGUpKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uIChlKTogdm9pZCB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnLS0tLS1jb21wbGV0ZTonICsgSlNPTi5zdHJpbmdpZnkoZSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8g5pyA57uIb2Jq5ZKMa3ZEYXRhTGlzdOeahOWFs+ezu1xyXG4gICAgICAgIC8vIOacgOe7iG9iaueahOe7k+aehFxyXG4gICAgICAgIC8qXHJcbiAgICAgICAgb2JqID0ge1xyXG4gICAgICAgICAgICAnd3hnYW1lJzoge1xyXG4gICAgICAgICAgICAgICAgdmFsdWUxOiA1MDAwLFxyXG4gICAgICAgICAgICAgICAgdXBkYXRlX3RpbWU6IExheWEuQnJvd3Nlci5ub3coKSxcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBrdkRhdGFMaXN0ID0gW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBrdkRhdGE6IHtcclxuICAgICAgICAgICAgICAgICAgICBcImtleVwiOiB0aGlzLl9rZXksXHJcbiAgICAgICAgICAgICAgICAgICAgXCJ2YWx1ZVwiOiBcIid3eGdhbWUnOiB7dmFsdWUxOiB7ZGF0YToge3Njb3JlOiA1MDAwfSx1cGRhdGVfdGltZTogTGF5YS5Ccm93c2VyLm5vdygpLH19XCJcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAga3ZEYXRhOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJrZXlcIjogdGhpcy5fa2V5LFxyXG4gICAgICAgICAgICAgICAgICAgIFwidmFsdWVcIjogXCInd3hnYW1lJzoge3ZhbHVlMToge2RhdGE6IHtzY29yZTogNTAwMH0sdXBkYXRlX3RpbWU6IExheWEuQnJvd3Nlci5ub3coKSx9fVwiXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICBdXHJcbiAgICAgICAgKi9cclxuICAgIH1cclxuXHJcbiAgICAvKirkuIrkvKDliY3lr7nmr5TkuIDkuIvlvZPliY3kvKDlhaXnmoTliIbmlbDlkozkuIrmrKHkvKDlhaXnmoTliIbmlbDlr7nmr5TvvIzlpoLmnpzlsI/kuo7lsLHkuI3kuIrkvKAqL1xyXG4gICAgc2Nlb3JDb21wYXJpc29uKGRhdGEpOiB2b2lkIHtcclxuICAgICAgICB3eC5nZXRVc2VyQ2xvdWRTdG9yYWdlKHtcclxuICAgICAgICAgICAga2V5TGlzdDogW3RoaXMuX2tleV0sXHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChnZXRyZXMpIHtcclxuICAgICAgICAgICAgICAgIGxldCBrdiA9IGdldHJlcy5LVkRhdGFMaXN0WzBdO1xyXG4gICAgICAgICAgICAgICAgbGV0IGt2RGF0YSA9IEpTT04ucGFyc2Uoa3YudmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgbGV0IHZhbHVlMSA9IGt2RGF0YS53eGdhbWUudmFsdWUxO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCLkuIrmrKHnmoTlvpfliIbmmK86XCIgKyB2YWx1ZTEpO1xyXG4gICAgICAgICAgICAgICAgbGV0IHNjb3JlID0gZGF0YVsnc2NvcmVzJ107XHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICwgZmFpbDogZnVuY3Rpb24gKGRhdGEpOiB2b2lkIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCctLS0tLS0tLS0tLS0tLS0tLS3ojrflj5bmiZjnrqHmlbDmja7lpLHotKUtLS0tLS0tLS0tLS0tLS0tLS0tLScpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOiuvue9rmxpc3QgYXJyXHJcbiAgICAgKiBAcGFyYW0gYXJyIOi1i+WAvOeUqOeahGFyclxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIHNldGxpc3QoYXJyKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5fbGlzdC5hcnJheSA9IGFycjtcclxuICAgICAgICB0aGlzLl9saXN0LnJlZnJlc2goKTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyB1aSB9IGZyb20gXCIuLi91aS9sYXlhTWF4VUlcIlxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCaWdJdGVtIGV4dGVuZHMgdWkudGVzdC5CaWdJdGVtVUkge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBzZXQgZGF0YVNvdXJjZSh2YWx1ZSkge1xyXG4gICAgICAgIGlmICghdmFsdWUpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgLy8g5ZCN5qyhXHJcbiAgICAgICAgdGhpcy5yYW5rTnVtID0gdGhpcy5nZXRDaGlsZEJ5TmFtZSgncmFua051bScpIGFzIExheWEuU3ByaXRlO1xyXG4gICAgICAgIGxldCByYW5rTnVtX051bSA9IHRoaXMucmFua051bS5nZXRDaGlsZEJ5TmFtZSgncmFua051bV9OdW0nKSBhcyBMYXlhLkZvbnRDbGlwO1xyXG4gICAgICAgIC8vIGxldCByYW5rTnVtX3BpYyA9IHRoaXMucmFua051bS5nZXRDaGlsZEJ5TmFtZSgncmFua051bV9waWMnKSBhcyBMYXlhLkltYWdlO1xyXG4gICAgICAgIC8vIHN3aXRjaCAodmFsdWUuaW5kZXgpIHtcclxuICAgICAgICAvLyAgICAgY2FzZSAxOlxyXG4gICAgICAgIC8vICAgICAgICAgcmFua051bV9OdW0udmFsdWUgPSAnICc7XHJcbiAgICAgICAgLy8gICAgICAgICByYW5rTnVtX3BpYy5za2luID0gJ3JhbmsvTk8xLnBuZyc7XHJcbiAgICAgICAgLy8gICAgICAgICBicmVhaztcclxuICAgICAgICAvLyAgICAgY2FzZSAyOlxyXG4gICAgICAgIC8vICAgICAgICAgcmFua051bV9OdW0udmFsdWUgPSAnICc7XHJcbiAgICAgICAgLy8gICAgICAgICByYW5rTnVtX3BpYy5za2luID0gJ3JhbmsvTk8yLnBuZyc7XHJcbiAgICAgICAgLy8gICAgICAgICBicmVhaztcclxuICAgICAgICAvLyAgICAgY2FzZSAzOlxyXG4gICAgICAgIC8vICAgICAgICAgcmFua051bV9OdW0udmFsdWUgPSAnICc7XHJcbiAgICAgICAgLy8gICAgICAgICByYW5rTnVtX3BpYy5za2luID0gJ3JhbmsvTk8zLnBuZyc7XHJcbiAgICAgICAgLy8gICAgICAgICBicmVhaztcclxuICAgICAgICAvLyAgICAgZGVmYXVsdDpcclxuICAgICAgICAvLyAgICAgICAgIHJhbmtOdW1fTnVtLnZhbHVlID0gdmFsdWUuaW5kZXg7XHJcbiAgICAgICAgLy8gICAgICAgICByYW5rTnVtX3BpYy52aXNpYmxlID0gZmFsc2U7XHJcbiAgICAgICAgLy8gICAgICAgICBicmVhaztcclxuICAgICAgICAvLyB9XHJcbiAgICAgICAgcmFua051bV9OdW0udmFsdWUgPSB2YWx1ZS5pbmRleDtcclxuICAgICAgICAvLyDlpLTlg49cclxuICAgICAgICB0aGlzLmltZ19oZWFkLnNraW4gPSB2YWx1ZS5hdmF0YXJJUDtcclxuXHJcbiAgICAgICAgLy8g5ZCN5a2X5qC85byP6K6+572uXHJcbiAgICAgICAgdGhpcy50ZXh0X25hbWUudGV4dCA9IHZhbHVlLlVzZXJOYW1lO1xyXG4gICAgICAgIC8vIHRoaXMudGV4dF9uYW1lLnBpdm90WCA9IHRoaXMudGV4dF9uYW1lLndpZHRoIC8gMjtcclxuICAgICAgICAvLyB0aGlzLnRleHRfbmFtZS5waXZvdFkgPSB0aGlzLnRleHRfbmFtZS5oZWlnaHQgLyAyO1xyXG4gICAgICAgIC8vIGxldCBsZW4xID0gdmFsdWUuVXNlck5hbWUubGVuZ3RoO1xyXG4gICAgICAgIC8vIHN3aXRjaCAobGVuMSkge1xyXG4gICAgICAgIC8vICAgICBjYXNlIDU6XHJcbiAgICAgICAgLy8gICAgICAgICB0aGlzLnRleHRfbmFtZS5mb250U2l6ZSA9IDI3O1xyXG4gICAgICAgIC8vICAgICAgICAgdGhpcy50ZXh0X25hbWUueSA9IDUzO1xyXG4gICAgICAgIC8vICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgLy8gICAgIGNhc2UgNjpcclxuICAgICAgICAvLyAgICAgICAgIHRoaXMudGV4dF9uYW1lLmZvbnRTaXplID0gMjU7XHJcbiAgICAgICAgLy8gICAgICAgICB0aGlzLnRleHRfbmFtZS55ID0gNTQ7XHJcbiAgICAgICAgLy8gICAgICAgICBicmVhaztcclxuICAgICAgICAvLyAgICAgY2FzZSA3OlxyXG4gICAgICAgIC8vICAgICAgICAgdGhpcy50ZXh0X25hbWUuZm9udFNpemUgPSAyMztcclxuICAgICAgICAvLyAgICAgICAgIHRoaXMudGV4dF9uYW1lLnkgPSA1NTtcclxuICAgICAgICAvLyAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIC8vICAgICBjYXNlIDg6XHJcbiAgICAgICAgLy8gICAgICAgICB0aGlzLnRleHRfbmFtZS5mb250U2l6ZSA9IDIxO1xyXG4gICAgICAgIC8vICAgICAgICAgdGhpcy50ZXh0X25hbWUueSA9IDU2O1xyXG4gICAgICAgIC8vICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgLy8gICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgLy8gICAgICAgICB0aGlzLnRleHRfbmFtZS5mb250U2l6ZSA9IDI5O1xyXG4gICAgICAgIC8vICAgICAgICAgdGhpcy50ZXh0X25hbWUueSA9IDUxO1xyXG4gICAgICAgIC8vICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgLy8gfVxyXG4gICAgICAgIC8vIOWIhuaVsOagvOW8j1xyXG4gICAgICAgIC8vIHRoaXMudGV4dF9zY29yZS5hbGlnbiA9ICdjZW50ZXInO1xyXG4gICAgICAgIC8vIHRoaXMudGV4dF9zY29yZS55ID0gNTc7XHJcbiAgICAgICAgdGhpcy50ZXh0X3Njb3JlLnZhbHVlID0gdmFsdWUuUmFua1ZhbHVlO1xyXG4gICAgICAgIGxldCBndWFuID0gdGhpcy5nZXRDaGlsZEJ5TmFtZSgnZ3VhbicpIGFzIExheWEuU3ByaXRlO1xyXG4gICAgICAgIC8vIOS4pOS9jeaVsOS7peS4iueahOaXtuWAme+8jOKAnOWFs+KAneW+gOWQjuenu+WKqOS4gOS6m1xyXG4gICAgICAgIGlmICh2YWx1ZS5SYW5rVmFsdWUgPj0gMTApIHtcclxuICAgICAgICAgICAgZ3Vhbi54ID0gNTUwO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGd1YW4ueCA9IDUzMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gdGhpcy50ZXh0X3Njb3JlLnBpdm90WCA9IHRoaXMudGV4dF9zY29yZS53aWR0aCAvIDI7XHJcbiAgICAgICAgLy8gdGhpcy50ZXh0X3Njb3JlLnBpdm90WSA9IHRoaXMudGV4dF9zY29yZS5oZWlnaHQgLyAyO1xyXG4gICAgICAgIC8vIGxldCBsZW4yID0gdGhpcy50ZXh0X3Njb3JlLnZhbHVlLmxlbmd0aDtcclxuICAgICAgICAvLyBzd2l0Y2ggKGxlbjEpIHtcclxuICAgICAgICAvLyAgICAgY2FzZSA1OlxyXG4gICAgICAgIC8vICAgICAgICAgdGhpcy50ZXh0X3Njb3JlLnNjYWxlKDAuOTMsIDAuOTMpO1xyXG4gICAgICAgIC8vICAgICAgICAgdGhpcy50ZXh0X3Njb3JlLnkgPSA1OTtcclxuICAgICAgICAvLyAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIC8vICAgICBjYXNlIDY6XHJcbiAgICAgICAgLy8gICAgICAgICB0aGlzLnRleHRfc2NvcmUuc2NhbGUoMC44NiwgMC44Nik7XHJcbiAgICAgICAgLy8gICAgICAgICB0aGlzLnRleHRfc2NvcmUueSA9IDYwO1xyXG4gICAgICAgIC8vICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgLy8gICAgIGNhc2UgNzpcclxuICAgICAgICAvLyAgICAgICAgIHRoaXMudGV4dF9zY29yZS5zY2FsZSgwLjc5LCAwLjc5KTtcclxuICAgICAgICAvLyAgICAgICAgIHRoaXMudGV4dF9zY29yZS55ID0gNjE7XHJcbiAgICAgICAgLy8gICAgICAgICB0aGlzLnRleHRfc2NvcmUueCArPSAxXHJcbiAgICAgICAgLy8gICAgICAgICBicmVhaztcclxuICAgICAgICAvLyAgICAgY2FzZSA4OlxyXG4gICAgICAgIC8vICAgICAgICAgdGhpcy50ZXh0X3Njb3JlLnNjYWxlKDAuNzIsIDAuNzIpO1xyXG4gICAgICAgIC8vICAgICAgICAgdGhpcy50ZXh0X3Njb3JlLnkgPSA2MjtcclxuICAgICAgICAvLyAgICAgICAgIHRoaXMudGV4dF9zY29yZS54ICs9IDI7XHJcbiAgICAgICAgLy8gICAgICAgICBicmVhaztcclxuICAgICAgICAvLyAgICAgZGVmYXVsdDpcclxuICAgICAgICAvLyAgICAgICAgIHRoaXMudGV4dF9zY29yZS55ID0gNTg7XHJcbiAgICAgICAgLy8gICAgICAgICBicmVhaztcclxuICAgICAgICAvLyB9XHJcblxyXG4gICAgfVxyXG59ICBcclxuIl19
