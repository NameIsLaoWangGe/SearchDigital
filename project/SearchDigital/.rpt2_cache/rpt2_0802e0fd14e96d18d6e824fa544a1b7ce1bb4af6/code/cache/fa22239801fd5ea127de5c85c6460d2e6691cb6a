{
  "code": "import { Clicks } from \"./Template/Clicks\";\r\nimport { Animation } from \"./Template/Animation\";\r\nexport default class Ranking extends Laya.Script {\r\n    constructor() { super(); }\r\n    onEnable() {\r\n        this.self = this.owner;\r\n        this.self['GameOVer'] = this;\r\n        this.gameControl = this.self.scene['Gamecontrol'];\r\n        this.background.width = Laya.stage.width;\r\n        this.background.height = Laya.stage.height;\r\n        this.gameControl.childAdaptive(this.background, this.self, this.background.y);\r\n        this.gameControl.adaptiveOther(this.self);\r\n        this.appear();\r\n    }\r\n    onAwake() {\r\n        console.log('排行榜');\r\n        if (Laya.Browser.onMiniGame) {\r\n            let wx = Laya.Browser.window.wx;\r\n            let openDataContext = wx.getOpenDataContext();\r\n            openDataContext.postMessage({ action: 'ranking' });\r\n        }\r\n    }\r\n    appear() {\r\n        let time = 300;\r\n        Animation.fade_out(this.background, 0, 0.3, time, 0, null);\r\n        Animation.fade_out(this.baseboard, 0, 1, time, 0, func => this.clicksOnBtn());\r\n    }\r\n    vanish() {\r\n        let time = 300;\r\n        Animation.fade_out(this.background, 0.3, 0, time, 0, func => this.vanishFunc());\r\n        Animation.fade_out(this.baseboard, 1, 0, time, 0, null);\r\n    }\r\n    vanishFunc() {\r\n        this.self.removeSelf();\r\n        if (Laya.Browser.onMiniGame) {\r\n            let wx = Laya.Browser.window.wx;\r\n            let openDataContext = wx.getOpenDataContext();\r\n            openDataContext.postMessage({ action: 'close' });\r\n        }\r\n        if (Laya.Browser.onMiniGame) {\r\n            this.gameControl.bannerAd.show()\r\n                .then(() => console.log('banner 广告显示'));\r\n        }\r\n    }\r\n    clicksOnBtn() {\r\n        Clicks.clicksOn('largen', this.background, this, null, null, this.up, null);\r\n    }\r\n    clicksOffBtn() {\r\n        Clicks.clicksOff('largen', this.background, this, null, null, this.up, null);\r\n    }\r\n    up(event) {\r\n        event.currentTarget.scale(1, 1);\r\n        this.vanish();\r\n        console.log('我点击了背景！');\r\n    }\r\n    onDisable() {\r\n    }\r\n}\r\n",
  "references": [
    "F:/Work/Game/SearchDigital/project/SearchDigital/src/Script/Template/Clicks.ts",
    "F:/Work/Game/SearchDigital/project/SearchDigital/src/Script/Template/Animation.ts"
  ]
}
