{
  "code": "export default class DigitalCard extends Laya.Script {\r\n    constructor() { super(); }\r\n    onEnable() {\r\n        this.self = this.owner;\r\n        this.self['DigitalCard'] = this;\r\n        this.gameControl = this.self.scene['Gamecontrol'];\r\n        this.cardParent = this.gameControl.cardParent;\r\n        this.indicateCard = this.gameControl.indicateCard;\r\n        this.levels = this.gameControl.levels;\r\n        let scale = 1 - (this.levels - 1) * 0.04;\r\n        this.number.scale(scale, scale);\r\n    }\r\n    cardClicksOn() {\r\n        this.self.on(Laya.Event.MOUSE_DOWN, this, this.down);\r\n        this.self.on(Laya.Event.MOUSE_MOVE, this, this.move);\r\n        this.self.on(Laya.Event.MOUSE_UP, this, this.up);\r\n        this.self.on(Laya.Event.MOUSE_OUT, this, this.out);\r\n    }\r\n    cardClicksOff() {\r\n        this.self.off(Laya.Event.MOUSE_DOWN, this, this.down);\r\n        this.self.off(Laya.Event.MOUSE_MOVE, this, this.move);\r\n        this.self.off(Laya.Event.MOUSE_UP, this, this.up);\r\n        this.self.off(Laya.Event.MOUSE_OUT, this, this.out);\r\n    }\r\n    down(event) {\r\n        event.currentTarget.scale(1.1, 1.1);\r\n    }\r\n    cardVanish(type) {\r\n        this.gameControl.clearAllClicks();\r\n        if (type === 'right') {\r\n            this.indicateCard['IndicateCard'].rightAni();\r\n            Laya.Tween.to(this.self, { y: this.self.y + 10 }, 50, null, Laya.Handler.create(this, function () {\r\n                Laya.Tween.to(this.self, { y: this.self.y - 20 }, 50, null, Laya.Handler.create(this, function () {\r\n                    Laya.Tween.to(this.self, { y: this.self.y + 10 }, 50, null, Laya.Handler.create(this, function () {\r\n                        this.gameControl.clearAllCard('nextLevel');\r\n                        this.self.removeSelf();\r\n                    }));\r\n                }));\r\n            }));\r\n        }\r\n        else if (type === 'error') {\r\n            this.indicateCard['IndicateCard'].errorAni();\r\n            Laya.Tween.to(this.self, { x: this.self.x - 10 }, 50, null, Laya.Handler.create(this, function () {\r\n                Laya.Tween.to(this.self, { x: this.self.x + 20 }, 50, null, Laya.Handler.create(this, function () {\r\n                    Laya.Tween.to(this.self, { x: this.self.x - 10 }, 50, null, Laya.Handler.create(this, function () {\r\n                        this.gameControl.clearAllCard('gameOver');\r\n                    }));\r\n                }));\r\n            }));\r\n        }\r\n    }\r\n    move(event) {\r\n        event.currentTarget.scale(1, 1);\r\n    }\r\n    up(event) {\r\n        this.cardClicksOff();\r\n        event.currentTarget.scale(1, 1);\r\n        let indicateNum = this.gameControl.indicateNum;\r\n        if (this.number.value === indicateNum.value) {\r\n            this.cardVanish('right');\r\n        }\r\n        else {\r\n            this.cardVanish('error');\r\n        }\r\n    }\r\n    out(event) {\r\n        event.currentTarget.scale(1, 1);\r\n    }\r\n    onDisable() {\r\n    }\r\n}\r\n",
  "references": [
    "F:/Work/Game/SearchDigital/project/SearchDigital/src/Script/GameControl.ts"
  ]
}
