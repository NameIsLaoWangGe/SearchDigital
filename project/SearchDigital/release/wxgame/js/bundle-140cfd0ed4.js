!function(){"use strict";class GameControl extends Laya.Script{constructor(){super()}onEnable(){this.initGameScene(),this.replacementCard()}initGameScene(){this.self=this.owner,this.self.Gamecontrol=this,this.levels=10}replacementCard(){this.indicateNumReset(),this.cardCollection()}cardCollection(){this.levels;let startX1=this.cardParent.width/4,startX2=3*this.cardParent.width/4,startY=this.cardParent.height/2;for(let i=0;i<2;i++)for(let j=1;j<this.levels+1;j++){let card=this.createCard();card.x=i%2==0?startX1:startX2,card.y=j%2==0?startY+j/2*(card.height+10):startY-(j-1)/2*(card.height+10)}this.levels++}indicateNumReset(){this.levels;let num1=Math.floor(9*Math.random())+1,overlen=this.levels-1,num=num1.toString();for(let i=0;i<overlen;i++)num+=Math.floor(10*Math.random()).toString();let scale=1-.05*(this.levels-8);this.indicateNum.scale(scale,scale),this.indicateNum.value=num,this.changeAnumber()}changeAnumber(){let arr=[];for(let i=0;i<this.indicateNum.value.length;i++)arr.push(this.indicateNum.value[i]);let numString,random=Math.floor(Math.random()*(arr.length-1))+1,originalNum=arr[random],randomNum=Math.floor(10*Math.random()).toString();for(;originalNum===randomNum;)randomNum=Math.floor(10*Math.random()).toString();arr[random]=randomNum;for(let j=0;j<arr.length;j++)0===j?numString=arr[j]:numString+=arr[j];return numString}createCard(){let card=Laya.Pool.getItemByCreateFun("speakBox",this.digitalCard.create,this.digitalCard);return this.cardParent.addChild(card),card.DigitalCard.number.value=this.changeAnumber(),card.DigitalCard.numAdaptiveBoard(),card}clearAllCard(){let len=this.cardParent._children.length,delayed=0;for(let i=0;i<len;i++){let card=this.cardParent._children[i];delayed+=100,Laya.timer.once(delayed,this,function(){card.alpha=0,i===len-1&&this.cardParent.removeChildren(0,len-1)})}}onDisable(){}}class DigitalCard extends Laya.Script{constructor(){super()}onEnable(){this.self=this.owner,this.self.DigitalCard=this}numAdaptiveBoard(){let len=this.number.value.length;len<=3?this.board.width=40*len+80:len>=3&&len<=6&&(this.board.width=40*len+50),this.board.height=135-6*(len-1);let scale=1-.05*(len-1);this.number.scale(scale,scale),this.self.height=this.board.height,this.self.pivotY=this.self.height/2,this.board.x=this.self.pivotX,this.board.y=this.self.pivotY,this.number.x=this.self.pivotX,this.number.y=1.1*this.self.pivotY,this.board.pivotX=this.board.width/2,this.board.pivotY=this.board.height/2,this.board.x=this.number.x}onDisable(){}}class GameConfig{constructor(){}static init(){var reg=Laya.ClassUtils.regClass;reg("Script/GameControl.ts",GameControl),reg("Script/DigitalCard.ts",DigitalCard)}}GameConfig.width=750,GameConfig.height=1334,GameConfig.scaleMode="fixedwidth",GameConfig.screenMode="none",GameConfig.alignV="top",GameConfig.alignH="left",GameConfig.startScene="Scene/MainScene.scene",GameConfig.sceneRoot="",GameConfig.debug=!1,GameConfig.stat=!1,GameConfig.physicsDebug=!1,GameConfig.exportSceneToJson=!0,GameConfig.init();new class{constructor(){window.Laya3D?Laya3D.init(GameConfig.width,GameConfig.height):Laya.init(GameConfig.width,GameConfig.height,Laya.WebGL),Laya.Physics&&Laya.Physics.enable(),Laya.DebugPanel&&Laya.DebugPanel.enable(),Laya.stage.scaleMode=GameConfig.scaleMode,Laya.stage.screenMode=GameConfig.screenMode,Laya.stage.alignV=GameConfig.alignV,Laya.stage.alignH=GameConfig.alignH,Laya.URL.exportSceneToJson=GameConfig.exportSceneToJson,(GameConfig.debug||"true"==Laya.Utils.getQueryString("debug"))&&Laya.enableDebugPanel(),GameConfig.physicsDebug&&Laya.PhysicsDebugDraw&&Laya.PhysicsDebugDraw.enable(),GameConfig.stat&&Laya.Stat.show(),Laya.alertGlobalError=!0,Laya.ResourceVersion.enable("version.json",Laya.Handler.create(this,this.onVersionLoaded),Laya.ResourceVersion.FILENAME_VERSION)}onVersionLoaded(){Laya.AtlasInfoManager.enable("fileconfig.json",Laya.Handler.create(this,this.onConfigLoaded))}onConfigLoaded(){GameConfig.startScene&&Laya.Scene.open(GameConfig.startScene)}}}();